---
haproxy_package_name: haproxy
haproxy_socket: /var/lib/haproxy/stats
haproxy_chroot: /var/lib/haproxy
haproxy_user: haproxy
haproxy_group: haproxy

haproxy_frontends: []
#set options in README

haproxy_backends: []

# Extra global vars (see README for example usage).
haproxy_global_vars: []

# see https://ssl-config.mozilla.org/#server=haproxy&version=1.8&config=intermediate&openssl=1.1.1d&guideline=5.4
ha_proxy_set_ssl_default: yes
ssl_default_bind_ciphers: 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384'
ssl_default_bind_options: 'no-sslv3 no-tlsv10 no-tlsv11 no-tls-tickets'

ssl_dh_param_file: ''

ssl_default_server_ciphers: 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384'
ssl_default_server_options: 'no-sslv3 no-tlsv10 no-tlsv11 no-tls-tickets'

haproxy_defaults_options:
  - httplog
  - dontlognull
# at present these are global to all frontends
ha_proxy_headers_add: []


ha_proxy_headers_delete:
  - "^Proxy:"
  - "^Server:.*"
  - "^X-Powered-By:.*"

ha_proxy_redirect_insecure: yes
ha_proxy_redirect_nonwww: yes
ha_proxy_redirect_www: no


# redirects - to_do genera redirects
ha_proxy_redirects: []



haproxy_defaults_timeouts:
  - connect 5000
  - client  50000
  - server  50000

# Set this to True to configure syslog file logging
haproxy_syslog_enable: false

# If you want to log to a file you need to configure rsyslog, but this may
# have global effects on syslog
# This variable is for convenience, set to True if this is the only role
# that will be configuring rsyslog
haproxy_syslog_configure_udp: false

# The syslog destinations
haproxy_syslog_dest: local2
haproxy_syslog_dest_tcp: local3
haproxy_syslog_dest_http: local4

# Rotate log files at this interval
haproxy_logrotate_interval: daily

# Number of backlog files to keep
haproxy_logrotate_backlog_size: 366

# haproxy template source
haproxy_cfg_template: haproxy.cfg.j2

# stats
# https://cbonte.github.io/haproxy-dconv/1.8/configuration.html#4-stats%20admin
haproxy_stats:
    enable: yes
    mode: 'http'
    bindip: '*'
    port: '9090'
    log: no
    uri: '/stats'
    realm: 'Strictly\ Private'
    auth: 'admin:passwordvaulted'
    refresh: '10s'
    admin: 'if TRUE'
